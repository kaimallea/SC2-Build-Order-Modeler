<h3><a href="#">Units</a></h3>
<div id="units">
  <table style="text-align: center;">
    <tr>
      <td><a href="#" class="unit-thumb"><span class="probe"></span>Probe</a></td>
      <td><a href="#" class="unit-thumb"><span class="zealot"></span>Zealot</a></td>
      <td><a href="#" class="unit-thumb"><span class="stalker"></span>Stalker</a></td>
      <td><a href="#" class="unit-thumb"><span class="sentry"></span>Sentry</a></td>
    </tr>
    <tr>
      <td><a href="#" class="unit-thumb"><span class="observer"></span>Observer</a></td>
      <td><a href="#" class="unit-thumb"><span class="immortal"></span>Immortal</a></td>
      <td><a href="#" class="unit-thumb"><span class="warp-prism"></span>Warp Prism</a></td>
      <td><a href="#" class="unit-thumb"><span class="colossus"></span>Colossus</a></td>
    </tr>
    <tr>
      <td><a href="#" class="unit-thumb"><span class="phoenix"></span>Phoenix</a></td>
      <td><a href="#" class="unit-thumb"><span class="void-ray"></span>Void Ray</a></td>
      <td><a href="#" class="unit-thumb"><span class="high-templar"></span>Immortal</a></td>
      <td><a href="#" class="unit-thumb"><span class="dark-templar"></span>Dark Templar</a></td>
    </tr>
    <tr>
      <td><a href="#" class="unit-thumb"><span class="archon"></span>Colossus</a></td>
      <td><a href="#" class="unit-thumb"><span class="carrier"></span>Phoenix</a></td>
      <td><a href="#" class="unit-thumb"><span class="mothership"></span>Mothership</a></td>
    </tr>
  </table>
</div>
<h3><a href="#">Structures</a></h3>
<div id="structures"></div>
<h3><a href="#">Upgrades</a></h3>
<div id="upgrades"></div>
<!--
<h3><a href="#">Upgrades</a></h3>
<div id="upgrades">
  <table style="text-align: center;">
    <tr>
      <td><a href="#" class="upgrade-thumb"><span class="air-weapons-l1"></span>Air Weapons L1</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="air-weapons-l2"></span>Air Weapons L2</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="air-weapons-l3"></span>Air Weapons L3</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="air-armor-l1"></span>Air Armor L1</a></td>
    </tr>
    <tr>
      <td><a href="#" class="upgrade-thumb"><span class="air-armor-l1"></span>Air Armor L1</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="air-armor-l2"></span>Air Armor L2</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="air-armor-l3"></span>Air Armor L3</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="warpgate"></span>Warpgate</a></td>
    </tr>
    <tr>
      <td><a href="#" class="upgrade-thumb"><span class="hallucination"></span>Hallucination</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="shields-l1"></span>Shields L1</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="shields-l2"></span>Shields L2</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="shields-l3"></span>Shields L3</a></td>
    </tr>
    <tr>
      <td><a href="#" class="upgrade-thumb"><span class="ground-weapons-l1"></span>Ground Weapons L1</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="ground-weapons-l2"></span>Ground Weapons L1</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="ground-weapons-l3"></span>Ground Weapons L1</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="ground-armor-l1"></span>Ground Armor L1</a></td>
    </tr>
    <tr>
      <td><a href="#" class="upgrade-thumb"><span class="ground-armor-l2"></span>Ground Armor L2</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="ground-armor-l3"></span>Ground Armor L3</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="charge"></span>Charge</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="blink"></span>Blink</a></td>
    </tr>
    <tr>
      <td><a href="#" class="upgrade-thumb"><span class="psionic-storm"></span>Psionic Storm</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="khaydarin-amulet"></span>Khaydarin Amulet</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="extended-thermal-lances"></span>Extended Thermal Lances</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="gravitic-booster"></span>Grativic Booster</a></td>
    </tr>
    <tr>
      <td><a href="#" class="upgrade-thumb"><span class="flux-vanes"></span>Flux Vanes</a></td>
      <td><a href="#" class="upgrade-thumb"><span class="graviton-catapult"></span>Graviton Catapult</a></td>
    </tr>
  </table>
-->
</div>
<script>
  // TODO: Replace structure/upgrade generation with static HTML
  if (!protoss) {
    var protoss = new Protoss();
  }
  
  $("#protoss-supply").html(protoss.total_cost.supply.used + " / " + protoss.total_cost.supply.total);

  e = $("#structures")[0];
  e.innerHTML = "<ul>";
  for (var i in protoss.structures) {
    e.innerHTML += "<li><a href=''>" + i + "</a></li>"
  }
  e.innerHTML += "</ul>";

  e = $("#upgrades")[0];
  e.innerHTML = "<ul>";
  for (var i in protoss.upgrades) {
    e.innerHTML += "<li><a href=''>" + i + "</a></li>"
  }
  e.innerHTML += "</ul>";
  
  // Handle unit clicks
  $("#accordion #units a").click(function (event) {
    try {
      protoss.train(this.text);
      $("#protoss-supply").html(protoss.total_cost.supply.used + " / " + protoss.total_cost.supply.total);
      $("#protoss-mineral").html(protoss.total_cost.mineral);
      $("#protoss-vespene").html(protoss.total_cost.vespene);
      add(this.text, "protoss");
    } catch(err) {
      error(err.message);
    }
      
    event.preventDefault();
  });

  // Handle structure clicks
  $("#accordion #structures a").click(function (event) {
    try {
      protoss.construct(this.text);
      $("#protoss-supply").html(protoss.total_cost.supply.used + " / " + protoss.total_cost.supply.total);
      $("#protoss-mineral").html(protoss.total_cost.mineral);
      $("#protoss-vespene").html(protoss.total_cost.vespene);
      add(this.text, "protoss");
    } catch(err) {
      error(err.message);
    }
  
    event.preventDefault();
  });

  // Handle upgrade clicks
  $("#accordion #upgrades a").click(function (event) {
    try {
      protoss.upgrade(this.text);
      $("#protoss-supply").html(protoss.total_cost.supply.used + " / " + protoss.total_cost.supply.total);
      $("#protoss-mineral").html(protoss.total_cost.mineral);
      $("#protoss-vespene").html(protoss.total_cost.vespene);
      add(this.text, "protoss");
    } catch(err) {
      error(err.message);
    }

    event.preventDefault();
  });
</script>